<mat-card class='login-page'>
    <mat-card-title>Login (Template)</mat-card-title>
    <mat-card-content>
        <form
            class='login-form data-form'
            #loginForm='ngForm'
            (ngSubmit)='login(loginForm, $event)'
        >
            <mat-form-field>
                <input
                    matInput
                    ngModel
                    #email='ngModel'
                    type='email'
                    name='email'
                    placeholder='Email'
                    required
                    minlength='3'
                    maxlength='20'
                    email
                />
                <mat-error *ngIf='email.errors?.required'
                >The email is mandatory
                </mat-error
                >
                <mat-error *ngIf='email.errors?.minlength'
                >Your email must have a minimum of
                    {{ email.errors?.minlength.requiredLength }} characters, but it only
                    has {{ email.errors?.minlength.actualLength }}.
                </mat-error
                >
                <mat-error *ngIf='email.errors?.email'
                >Your email is not valid.
                </mat-error
                >
            </mat-form-field>

            <mat-form-field>
                <input
                    matInput
                    ngModel
                    #password='ngModel'
                    type='password'
                    name='password'
                    placeholder='Password'
                    required
                    passwordStrength
                    minlength='8'
                />
                <mat-error *ngIf='password.errors?.required'
                >The password is mandatory
                </mat-error
                >
            </mat-form-field>

            <ng-container
                *ngIf="password.errors | onlyOneError:['minlength', 'passwordStrength'] as error">
                <div class='field-message' *ngIf='error?.passwordStrength'>Your password must have lower case, upper
                    case, and
                    numeric
                    characters
                </div>
                <div class='field-message' *ngIf='error?.minlength'>The minimum length
                    is {{error?.minlength.requiredLength}}. The
                    current length
                    is {{error?.minlength.actualLength}}</div>
            </ng-container>

            <button
                [disabled]='!loginForm.valid'
                mat-raised-button
                color='primary'
                type='submit'
            >
                Login
            </button>
        </form>

        <div class='form-val'>
            {{
            "email errors " +
            (email.errors | json) +
            " password errors " +
            (password.errors | json)
            }}
        </div>
        <div class='form-val'>{{ email.valid + " " + password.valid | json }}</div>
    </mat-card-content>
</mat-card>
