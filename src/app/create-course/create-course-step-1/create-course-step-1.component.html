<div [formGroup]='form'>
    <mat-form-field>
        <input matInput placeholder='Course title' formControlName='title' #title>
        <mat-hint align='end'>
            {{title.value.length}} / 60
        </mat-hint>
        <mat-error *ngIf='courseTitle.errors?.titleExists'>This title is already in use.</mat-error>
    </mat-form-field>
    <mat-form-field>
        <input matInput formControlName='releasedAt' [matDatepicker]='releaseDatePicker' placeholder='Release Date'>
        <mat-datepicker-toggle [for]='releaseDatePicker' matSuffix></mat-datepicker-toggle>
        <mat-datepicker #releaseDatePicker></mat-datepicker>

    </mat-form-field>

    <mat-checkbox color='primary' formControlName='downloadsAllowed'>
        Downloads Allowed
    </mat-checkbox>
    <mat-form-field appearance='outline'>
        <textarea matInput placeholder='Description' formControlName='longDescription'>

        </textarea>
    </mat-form-field>

    <mat-form-field>
        <mat-select placeholder='Select Category' formControlName='category'>
            <ng-container *ngFor='let category of (courseCategories$ | async)'>

                <mat-option [value]='category.code'>{{category.description}}</mat-option>
            </ng-container>
        </mat-select>
    </mat-form-field>
    <div>{{form.value | json}}</div>
    <div>{{form.controls.title.errors | json}}</div>
</div>
